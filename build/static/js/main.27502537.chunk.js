(this.webpackJsonpcode_challenge_myob=this.webpackJsonpcode_challenge_myob||[]).push([[0],{110:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"formValidate",(function(){return N})),t.d(n,"changeInputValue",(function(){return k})),t.d(n,"formSubmit",(function(){return P})),t.d(n,"validateComplete",(function(){return w})),t.d(n,"validateIncomplete",(function(){return V})),t.d(n,"triggerBack",(function(){return F})),t.d(n,"postTable",(function(){return R}));var r=t(0),l=t.n(r),o=t(30),u=t.n(o),c=(t(71),t(17)),i=t(18),m=t(24),s=t(19),d=t(25),p=t(32),f=t(20),v=t(21);function b(){var e=Object(f.a)(["\n  max-width: 600px;\n  margin: 0 auto;\n"]);return b=function(){return e},e}var y=v.a.div(b()),E=t(13),g=t(23),h=(t(29),t(5)),I=t.n(h),C=t(11),O=t(54),x=t.n(O),D=Object(C.fromJS)({formData:{firstName:"",lastName:"",salary:"",superRate:""},tableData:{firstName:{name:"First Name",Value:""},lastName:{name:"Last Name",value:""},payPeriod:{name:"Pay Period",value:""},payFrequency:{name:"Pay Frequency",value:"Monthly"},annualIncome:{name:"Annual Income",value:""},grossIncome:{name:"Gross Income",value:""},incomeTax:{name:"Income Tax",value:""},netIncome:{name:"Net Income",value:""},super:{name:"super",value:""},pay:{name:"Pay",value:""}},validated:!1,Complete:!1}),j=(t(77),t(55)),T=t.n(j),S=t(14),N=function(){return{type:"formValidate"}},k=function(e,a){return{type:"changeInputValue",key:e,value:Object(C.fromJS)(a)}},P=function(e){return{type:"formSubmit",formData:e}},w=function(){return{type:"validateComplete"}},V=function(){return{type:"validateIncomplete"}},F=function(){return{type:"triggerBack"}},R=function(e){return function(a){T.a.post("/payslip/post",{tableData:e}).then((function(e){console.log(e),S.ToastsStore.success(e.data),a({type:"clearFormBack"})})).catch((function(e){400==e.response.status&&S.ToastsStore.error(e.response.data),500==e.response.status&&S.ToastsStore.error("Database or server is not runing properly")}))}},_=t(113),G=t(59),B=t(111),J=t(114);function q(){var e=Object(f.a)(["\n    padding: 2rem 3rem;\n    border-radius: 1rem;\n    text-align: center;\n    margin-top: 100px\n    display: grid;\n    align-items: center;\n    justify-content: center;\n"]);return q=function(){return e},e}var L=Object(v.a)(y)(q()),$=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a=this.props,t=a.validate,n=a.formData,r=a.validateComplete,o=a.handleValidate,u=a.handleSubmit,c=a.handleInputChange;return r?l.a.createElement(E.a,{to:"payslip"}):l.a.createElement(L,null,l.a.createElement("h1",null,"Employee Information"),l.a.createElement(_.a,{noValidate:!0,validated:t,onSubmit:function(e){o(e),u(n)}},l.a.createElement(_.a.Row,null,l.a.createElement(_.a.Group,{as:G.a,md:"6",controlId:"validationCustom01"},l.a.createElement(_.a.Label,null,"First name"),l.a.createElement(_.a.Control,{required:!0,type:"text",value:n.get("firstName"),placeholder:"First name",onChange:c("firstName")}),l.a.createElement(_.a.Control.Feedback,{type:"invalid"},"Please provide a valid firstname\uff01")),l.a.createElement(_.a.Group,{as:G.a,md:"6",controlId:"validationCustom02"},l.a.createElement(_.a.Label,null,"Last name"),l.a.createElement(_.a.Control,{required:!0,type:"text",value:n.get("lastName"),placeholder:"Last name",onChange:c("lastName")}),l.a.createElement(_.a.Control.Feedback,{type:"invalid"},"Please provide a valid lastname!"))),l.a.createElement(_.a.Row,null,l.a.createElement(_.a.Group,{as:G.a,md:"6",controlId:"validationCustom03"},l.a.createElement(_.a.Label,null,"Salary"),l.a.createElement(B.a,null,l.a.createElement(B.a.Prepend,null,l.a.createElement(B.a.Text,{id:"inputGroupPrepend"},"$")),l.a.createElement(_.a.Control,(e={type:"number",step:"0.01",placeholder:"Salary",value:n.get("salary"),onChange:c("salary"),"aria-describedby":"inputGroupPrepend"},Object(p.a)(e,"aria-describedby","inputGroupApend"),Object(p.a)(e,"required",!0),e)),l.a.createElement(_.a.Control.Feedback,{type:"invalid"},"Please provide a valid salary."))),l.a.createElement(_.a.Group,{as:G.a,md:"6",controlId:"validationCustom04"},l.a.createElement(_.a.Label,null,"Super Rate"),l.a.createElement(B.a,null,l.a.createElement(B.a.Prepend,null,l.a.createElement(B.a.Text,{id:"inputGroupPrepend"},"%")),l.a.createElement(_.a.Control,{type:"number",min:"1",max:"100",onChange:c("superRate"),value:n.get("superRate"),"aria-describedby":"inputGroupPrepend",placeholder:"Super Rate",required:!0}),l.a.createElement(_.a.Control.Feedback,{type:"invalid"},"Please provide a valid super rate.")))),l.a.createElement(J.a,{type:"submit"},"Generate payslip")))}}]),a}(r.Component),A=Object(g.b)((function(e){return{validate:e.getIn(["form","validated"]),formData:e.getIn(["form","formData"]),validateComplete:e.getIn(["form","Complete"])}}),(function(e){return{handleValidate:function(a){!1===a.currentTarget.checkValidity()?(window.event.preventDefault(),a.stopPropagation(),e(n.formValidate()),e(n.validateIncomplete())):e(n.validateComplete())},handleSubmit:function(a){window.event.preventDefault(),e(n.formSubmit(a))},handleInputChange:function(a){return function(t){var r=t.target.value;e(n.changeInputValue(a,r))}}}}))($),M=t(22),X=t(112),U=t(60),z=t.n(U),H=t(16);function K(){var e=Object(f.a)(["\ndisplay: grid;\ngrid-template-columns: 1fr 1fr 1fr 1fr;\ntext-align: left;\nalign-items: center;\n.heading{\n    grid-column-start: 1; \n    grid-column-end: 5; \n}\n.back{\n    width: 120px\n}\n.pay{\n    grid-column-start: 4; \n    grid-column-end: 5; \n    width: 120px\n    align-items: right;\n}\n"]);return K=function(){return e},e}var Q=Object(v.a)(y)(K()),W=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.tableData,t=e.validateComplete,n=e.handleOnClick,r=e.handleBack;return!1===t?l.a.createElement(E.a,{to:"/"}):l.a.createElement(Q,null,l.a.createElement("h2",{className:"heading"},"Payslip"),l.a.createElement("h3",{className:"heading"},a.getIn(["firstName","value"])," ",a.getIn(["lastName","value"])," "),l.a.createElement(X.a,{className:"heading",striped:!0,bordered:!0,hover:!0},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,a.getIn(["payPeriod","name"])),l.a.createElement("td",null,z()(a.getIn(["payPeriod","value"]),"dd-mmmm-yyyy"))),l.a.createElement("tr",null,l.a.createElement("th",null,a.getIn(["payFrequency","name"])),l.a.createElement("td",null," ",a.getIn(["payFrequency","value"]))),l.a.createElement("tr",null,l.a.createElement("th",null,a.getIn(["annualIncome","name"])),l.a.createElement("td",null,l.a.createElement(H.a,{value:a.getIn(["annualIncome","value"]),displayType:"text",thousandSeparator:!0,prefix:"$",renderText:function(e){return l.a.createElement("div",null,e)}}))),l.a.createElement("tr",null,l.a.createElement("th",null,a.getIn(["grossIncome","name"])),l.a.createElement("td",null,l.a.createElement(H.a,{value:a.getIn(["grossIncome","value"]),displayType:"text",thousandSeparator:!0,prefix:"$",renderText:function(e){return l.a.createElement("div",null,e)}}))),l.a.createElement("tr",null,l.a.createElement("th",null,a.getIn(["incomeTax","name"])),l.a.createElement("td",null,l.a.createElement(H.a,{value:a.getIn(["incomeTax","value"]),displayType:"text",thousandSeparator:!0,prefix:"$",renderText:function(e){return l.a.createElement("div",null,e)}}))),l.a.createElement("tr",null,l.a.createElement("th",null,a.getIn(["netIncome","name"])),l.a.createElement("td",null,l.a.createElement(H.a,{value:a.getIn(["netIncome","value"]),displayType:"text",thousandSeparator:!0,prefix:"$",renderText:function(e){return l.a.createElement("div",null,e)}}))),l.a.createElement("tr",null,l.a.createElement("th",null,a.getIn(["super","name"])),l.a.createElement("td",null,l.a.createElement(H.a,{value:a.getIn(["super","value"]),displayType:"text",thousandSeparator:!0,prefix:"$",renderText:function(e){return l.a.createElement("div",null,e)}}))),l.a.createElement("tr",null,l.a.createElement("th",null,a.getIn(["pay","name"])),l.a.createElement("td",null,l.a.createElement(H.a,{value:a.getIn(["pay","value"]),displayType:"text",thousandSeparator:!0,prefix:"$",renderText:function(e){return l.a.createElement("div",null,e)}}))))),l.a.createElement(M.b,{to:"/"},l.a.createElement(J.a,{className:"back",type:"submit",onClick:r},"Back")),l.a.createElement(M.b,{to:"/",className:"pay"},l.a.createElement(J.a,{className:"pay",type:"submit",onClick:function(){return n(a)}},"Pay")))}}]),a}(r.Component),Y=Object(g.b)((function(e){return{tableData:e.getIn(["form","tableData"]),validateComplete:e.getIn(["form","Complete"])}}),(function(e){return{handleOnClick:function(a){window.event.preventDefault(),e(n.postTable(a))},handleBack:function(){window.event.preventDefault(),e(n.triggerBack())}}}))(W),Z=t(26),ee=t(61),ae=t(62),te=Object(ae.combineReducers)({form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"formValidate":return e.set("validated",!0);case"changeInputValue":return e.setIn(["formData",a.key],a.value);case"validateComplete":return e.set("Complete",!0);case"validateIncomplete":case"triggerBack":return e.set("Complete",!1);case"clearFormBack":return e.set("Complete",!1).setIn(["formData","firstName"],"").setIn(["formData","lastName"],"").setIn(["formData","salary"],"").setIn(["formData","superRate"],"");case"formSubmit":var t=Number(a.formData.get("salary")),n=Number(a.formData.get("superRate")),r=function(e){return e<=18200?0:e>=18201&&e<=37e3?I.a.round(I.a.divide(I.a.times(e-18200,.19),12),0):e>=37001&&e<=87e3?I.a.round(I.a.divide(3572+I.a.times(e-37e3,.325),12),0):e>=87001&&e<=18e4?I.a.round(I.a.divide(19822+I.a.times(e-87e3,.37),12),0):e>=180001?I.a.round(I.a.divide(54232+I.a.times(e-18e4,.45),12),0):void 0},l=Object(C.fromJS)(I.a.round(t/12,0)),o=Object(C.fromJS)(r(t)),u=Object(C.fromJS)(l-o),c=Object(C.fromJS)(I.a.round(I.a.times(l,I.a.times(n,.01)),0)),i=Object(C.fromJS)(I.a.minus(u,c));return e.setIn(["tableData","firstName","value"],a.formData.get("firstName")).setIn(["tableData","lastName","value"],a.formData.get("lastName")).setIn(["tableData","annualIncome","value"],a.formData.get("salary")).setIn(["tableData","payPeriod","value"],x()().date(28)).setIn(["tableData","grossIncome","value"],l).setIn(["tableData","incomeTax","value"],o).setIn(["tableData","netIncome","value"],u).setIn(["tableData","super","value"],c).setIn(["tableData","pay","value"],i);default:return e}}}),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.c,re=Object(Z.d)(te,ne(Object(Z.a)(ee.a))),le=(t(109),function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(g.a,{store:re},l.a.createElement(M.a,null,l.a.createElement(E.b,{path:"/",exact:!0,component:A}),l.a.createElement(E.b,{path:"/payslip",exact:!0,component:Y})),l.a.createElement(S.ToastsContainer,{position:S.ToastsContainerPosition.TOP_CENTER,store:S.ToastsStore}))}}]),a}(r.Component));u.a.render(l.a.createElement(le,null),document.getElementById("root"))},29:function(e,a){},66:function(e,a,t){e.exports=t(110)},71:function(e,a,t){}},[[66,1,2]]]);
//# sourceMappingURL=main.27502537.chunk.js.map